<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教程页面模板</title>
    <!-- 引入 Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            scroll-behavior: smooth; /* 平滑滚动 */
        }
        .sidebar {
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            background-color: #fff;
            color: #000;
            border-right: 1px solid #ddd;
        }
        .sidebar a {
            color: #007b0f;
            text-decoration: none;
        }
        .sidebar a:hover {
            color: #0056b3;
        }
        .child-chapters {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .child-chapters li:hover {
            background-color: #e9ecef;
            transform: translateX(5px);
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }
        .content-section {
            padding-top: 50px;
            margin-bottom: 50px;
        }
        h1 {
            color: #2c3e50;
            font-size: 3.5em;
            text-align: center;
            margin-top: 20px;
            margin-bottom: 40px;
            font-weight: bold;
            letter-spacing: 2px;
            border-bottom: 6px solid #2c3e50;
            padding-bottom: 20px;
        }
        h2, h3, h4 {
            margin-top: 30px;
            margin-bottom: 15px;
        }
        .content-section > h2 {
            color: #2980b9; /* 深蓝色 */
            font-size: 2.5em;
            border-bottom: 4px solid #2980b9;
            padding-bottom: 15px;
            margin-bottom: 50px;
        }
        .content-section h3 {
            color: #e74c3c; /* 红色 */
            font-size: 2em;
            border-left: 6px solid #e74c3c;
            padding-left: 15px;
            margin-top: 40px;
            margin-bottom: 25px;
        }
        .content-section h4 {
            color: #8e44ad; /* 紫色 */
            font-size: 1.5em;
            margin-top: 20px;
            margin-bottom: 12px;
            border-left: 5px solid #8e44ad;
            padding-left: 12px;
        }
        p {
            margin: 20px 0;
            font-size: 1.1em;
            text-indent: 2em;
        }
        .right-sidebar {
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            padding: 20px;
            background-color: #f8f9fa;
            border-left: 1px solid #ddd;
        }
        .right-sidebar a {
            color: #343a40;
            text-decoration: none;
        }
        .right-sidebar a:hover {
            text-decoration: underline;
        }
        .right-sidebar .active {
            font-weight: bold;
            color: #007bff;
        }
        ul {
            list-style: none;
            padding-left: 20px;
            margin: 10px 0;
        }
        .with-bullets {
            list-style: disc;
            padding-left: 10px;
            margin: 10px 0 10px 20px;
        }
        ul li {
            margin: 4px 0;
            color: #34495e;;
        }
        li .title {
            font-weight: bold;
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 6px;
        }
        li p {
            color: #34495e;
            font-size: 16px;
        }
        /* 移动端样式（只在屏幕宽度 < 1024 px 时生效 */
        @media screen and (max-width: 1024px) {
            .sidebar, .right-sidebar {
                display: none;
            }
            .content {
                margin: 0;
                padding: 10px;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- 左侧目录 -->
            <nav class="col-md-2 bg-light sidebar">
                <h5 class="p-3">目录</h5>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" href="#section1" onclick="toggleChildChapters(event, 'chapter1')">01 认识机器学习：绘制直线</a>
                        <ul id="chapter1" class="child-chapters" style="display: none;">
                            <li><a class="nav-link" href="#section1-sub1">1.1 函数基础</a></li>
                            <li><a class="nav-link" href="#section1-sub2">1.2 NumPy 介绍</a></li>
                            <li><a class="nav-link" href="#section1-sub3">1.3 常见函数</a></li>
                            <li><a class="nav-link" heaf="#section1-sub4">1.4 传统方程求解</a></li>
                            <li><a class="nav-link" heaf="#section1-sub5">1.5 机器学习求解</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#section2" onclick="toggleChildChapters(event, 'chapter2')">02 深度学习原理</a>
                        <ul id="chapter2" class="child-chapters" style="display: none;">
                            <li><a class="nav-link" href="#section2-sub1">2.1 什么是机器学习</a></li>
                            <li><a class="nav-link" href="#section2-sub2">2.2 人工神经网络</a></li>
                            <li><a class="nav-link" href="#section2-sub3">2.3 线性代数</a></li>
                            <li><a class="nav-link" heaf="#section2-sub4">2.4 数据表示</a></li>
                            <li><a class="nav-link" heaf="#section2-sub5">2.5 数据操作</a></li>
                            <li><a class="nav-link" heaf="#section2-sub6">2.6 常见微型数据集</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#section3" onclick="toggleChildChapters(event, 'chapter3')">03 分类问题：Keras 求解</a>
                        <ul id="chapter3" class="child-chapters" style="display: none;">
                            <li><a class="nav-link" href="#section3-sub1">3.1 统计学入门</a></li>
                            <li><a class="nav-link" href="#section3-sub2">3.2 二分类问题</a></li>
                            <li><a class="nav-link" href="#section3-sub3">3.3 Keras 快速入门</a></li>
                            <li><a class="nav-link" heaf="#section3-sub4">3.4 图片分类</a></li>
                            <li><a class="nav-link" heaf="#section3-sub5">3.5 其它分类问题</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#section4">04 详解反向传播算法</a></li>
                    <li class="nav-item"><a class="nav-link" href="#section5">05 张量与自动微分</a></li>
                    <li class="nav-item"><a class="nav-link" href="#section6">06 训练神经网络</a></li>
                    <li class="nav-item"><a class="nav-link" href="#section7">07 卷积神经网络</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#section8" onclick="toggleChildChapters(event, 'chapter8')">08 循环神经网络</a>
                        <ul id="chapter8" class="child-chapters" style="display: none;">
                            <li><a class="nav-link" href="#section8-sub1">8.1 循环神经网络入门</a></li>
                            <li><a class="nav-link" href="#section8-sub2">8.2 RNN 详解</a></li>
                            <li><a class="nav-link" href="#section8-sub3">8.3 长短期记忆网络</a></li>
                            <li><a class="nav-link" href="#section8-sub4">8.4 GRU 网络</a></li>
                            <li><a class="nav-link" href="#section8-sub5">8.5 序列到序列</a></li>
                            <li><a class="nav-link" href="#section8-sub6">8.6 Seq2Seq</a></li>
                            <li><a class="nav-link" href="#section8-sub7">8.7 Word2Vec</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#section9">09 Transformer 架构</a></li>
                    <li class="nav-item"><a class="nav-link" href="#section10">10 生成式 (Generative)</a></li>
                    <li class="nav-item"><a class="nav-link" href="#section11">11 图片扩散 (Diffusion)</a></li>
                    <li class="nav-item"><a class="nav-link" href="#section12">12 大语言模型 (LLM)</a></li>
                </ul>
            </nav>

            <!-- 中间内容 -->
            <main class="col-md-8">
                <h1>深度学习综合指南</h1>
                <section id="section1" class="content-section">
                    <h2>01 认识机器学习：绘制直线</h2>
                    <p>这是章节 1 的内容。</p>
                    <h3 id="section1-sub1" class="content-section-sub">1.1 函数基础</h3>
                    <p>这是章节 1 的子标题 1 内容。</p>
                    
                    <h4 id="section1-sub1-sub1">1.1.1 函数定义</h4>
                    <h4 id="section1-sub1-sub2">1.1.2 线性函数</h4>
                    <h4 id="section1-sub1-sub3">1.1.3 函数图像</h4>
                    <h4 id="section1-sub1-sub4">1.1.4 二次函数</h4>
                    <h4 id="section1-sub1-sub5">1.1.5 变化率</h4>
                    <h4 id="section1-sub1-sub6">1.1.6 函数组合</h4>
                    <h4 id="section1-sub1-sub7">1.1.7 函数变换</h4>
                    <h4 id="section1-sub1-sub8">1.1.8 反函数</h4>

                    <h3 id="section1-sub2" class="content-section-sub">1.2 NumPy 介绍</h3>
                    <p>这是章节 1 的子标题 2 内容。</p>

                    <h4 id="section1-sub2-sub1">1.2.1 数组基础</h4>
                    <h4 id="section1-sub2-sub2">1.2.2 复制和视图</h4>
                    <h4 id="section1-sub2-sub3">1.2.3 数组创建</h4>
                    <h4 id="section1-sub2-sub4">1.2.4 索引和切片</h4>
                    <h4 id="section1-sub2-sub5">1.2.5 数组操作</h4>
                    <h4 id="section1-sub2-sub6">1.2.6 生成随机数</h4>

                    <h3 id="section1-sub3" class="content-section-sub">1.3 常见函数</h3>
                    <p>这是章节 1 的子标题 3 内容。</p>

                    <h4 id="section1-sub3-sub1">1.3.1 多项式函数</h4>
                    <h4 id="section1-sub3-sub2">1.3.2 有理函数</h4>
                    <h4 id="section1-sub3-sub3">1.3.3 指数函数</h4>
                    <h4 id="section1-sub3-sub4">1.3.4 对数函数</h4>
                    <h4 id="section1-sub3-sub5">1.3.5 三角函数</h4>
                    <h4 id="section1-sub3-sub6">1.3.6 三角恒等式</h4>

                    <h3 id="section1-sub4" class="content-section-sub">1.4 传统方程求解</h3>
                    <p>这是章节 1 的子标题 4 内容。</p>

                    <h4 id="section1-sub4-sub1">1.4.1 寻找线性方程</h4>
                    <h4 id="section1-sub4-sub2">1.4.2 目视方法</h4>
                    <h4 id="section1-sub4-sub3">1.4.3 函数方法</h4>

                    <h3 id="section1-sub5">子标题 5</h3>
                    <p>这是章节 1 的子标题 5 内容。</p>

                    <h4 id="section1-sub5-sub1">1.5.1 问题分析</h4>
                    <h4 id="section1-sub5-sub2">1.5.2 渐近方法</h4>
                    <h4 id="section1-sub5-sub3">1.5.3 线性回归</h4>
                    <h4 id="section1-sub5-sub4">1.5.4 机器学习方法</h4>
                    <h4 id="section1-sub5-sub5">1.5.5 思考与展望</h4>

                </section>
                <section id="section2" class="content-section">
                    <h2>02 深度学习原理</h2>
                    <p>这是章节 2 的内容。</p>
                    <h3 id="section2-sub1">2.1 什么是机器学习</h3>
                    <p>这是章节 2 的子标题 1 内容。</p>
                    <h3 id="section2-sub2">子标题 2</h3>
                    <p>这是章节 2 的子标题 2 内容。</p>
                    <p>123</p>
                    <p>123</p>
                    <p>123</p>
                </section>
                <section id="section3" class="content-section">
                    <h2>03 分类问题：Keras 求解</h2>
                    <p>这是章节 3 的内容。布局整洁易用。</p>
                    <h3 id="section3-sub1">子标题 1</h3>
                    <p>这是章节 3 的子标题 1 内容。</p>
                    <h3 id="section3-sub2">子标题 2</h3>
                    <p>这是章节 3 的子标题 2 内容。</p>
                    <h3 id="section3-sub3">子标题 3</h3>
                    <p>这是章节 3 的子标题 3 内容。</p>
                    <p>123</p>
                </section>
                <section id="section4" class="content-section">
                    <h2>章节 4</h2>
                    <p>这是章节 4 的内容。欢迎补充更多章节。</p>

                    <h3 id="section4-sub5" class="content-section-sub">
                        <a href="dense_network_scratch.html" style="text-decoration: none; color: inherit;">4.5 手写神经网络</a>
                    </h3>

                </section>
                <section id="section5" class="content-section">
                    <h2>章节 5</h2>
                    <p>这是章节 1 的内容。适合放教程的详细内容。</p>
                </section>
                <section id="section6" class="content-section">
                    <h2>章节 6</h2>
                    <p>这是章节 2 的内容。可以继续扩展。</p>
                </section>
                <section id="section7" class="content-section">
                    <h2>章节 7</h2>
                    <p>这是章节 3 的内容。布局整洁易用。</p>
                </section>
                <section id="section8" class="content-section">
                    <h2>08 循环神经网络</h2>
                    <p>这是章节 7 的内容。布局整洁易用。</p>

                    <h3 id="section8-sub1" class="content-section-sub">
                        <a href="recurrent_network_intro.html" style="text-decoration: none; color: inherit;">8.1 循环神经网络入门</a>
                    </h3>
                    <p>翻译文章 <a href="https://victorzhou.com/blog/intro-to-rnns/">An Introduction to Recurrent Neural Networks for Beginners</a>，主要有以下几点区别：</p>
                    <ul>
                        <li>
                            <p>1. 在梯度计算阶段增加更加详细解释，推导 softmax 函数的导数。</p>
                        </li>
                        <li>
                            <p>2. 增加 8.1.9 小节 使用 PyTorch 实现这个简单的示例。</p>
                        </li>
                    </ul>
                    

                    <h4 id="section8-sub1-sub1">8.1.1 为什么</h4>
                    <h4 id="section8-sub1-sub2">8.1.2 如何实现</h4>
                    <h4 id="section8-sub1-sub3">8.1.3 问题</h4>
                    <h4 id="section8-sub1-sub4">8.1.4 计划</h4>
                    <h4 id="section8-sub1-sub5">8.1.5 预处理</h4>
                    <h4 id="section8-sub1-sub6">8.1.6 前向传播</h4>
                    <h4 id="section8-sub1-sub7">8.1.7 为什么</h4>
                    <h4 id="section8-sub1-sub8">8.1.8 如何实现</h4>

                    <h3 id="section8-sub2" class="content-section-sub">
                        <a href="recurrent_detail.html" style="text-decoration: none; color: inherit;">8.2 RNN 详解</a>
                    </h3>

                    <h3 id="section8-sub3" class="content-section-sub">
                        <a href="#" style="text-decoration: none; color: inherit;">8.3 长短期记忆网络</a>
                    </h3>
                    <p>翻译系列文章：</p>
                    <ol>
                        <li><a href="https://dennybritz.com/posts/wildml/recurrent-neural-networks-tutorial-part-1/">Recurrent Neural Networks Tutorial, Part 1 – Introduction to RNNs</a></li>
                        <li><a href="https://dennybritz.com/posts/wildml/recurrent-neural-networks-tutorial-part-2/">Recurrent Neural Networks Tutorial, Part 2 – Implementing a RNN with Python, Numpy and Theano</a></li>
                        <li><a href="https://dennybritz.com/posts/wildml/recurrent-neural-networks-tutorial-part-3/">Recurrent Neural Networks Tutorial, Part 3 – Backpropagation Through Time and Vanishing Gradients</a></li>
                    </ol>

                    <h3 id="section8-sub4" class="content-section-sub">
                        <a href="#" style="text-decoration: none; color: inherit;">8.4 GRU 网络</a>
                    </h3>

                    <h3 id="section8-sub5" class="content-section-sub">
                        <a href="#" style="text-decoration: none; color: inherit;">8.5 序列到序列</a>
                    </h3>

                    <h3 id="section8-sub6" class="content-section-sub">
                        <a href="#" style="text-decoration: none; color: inherit;">8.6 Seq2Seq</a>
                    </h3>

                    <h3 id="section8-sub7" class="content-section-sub">
                        <a href="#" style="text-decoration: none; color: inherit;">8.7 Word2Vec</a>
                    </h3>

                </section>
                <section id="section9" class="content-section">
                    <h2>09 Transformer 架构</h2>
                    <p>这是章节 9 的内容。</p>
                    <h3 id="section9-sub1">9.1 注意力机制</h3>
                    <p>在计算机科学的注意力机制中，查询 (Query) 、键 (Key) 和值 (value) 的核心思想是模仿人类的注意力机制来动态选择重要信息。主动注意对应的是 Query 的作用，被动注意对应的是 Key 的显著性作用。</p>
                    
                    <h4 id="section9-sub1-sub1">
                        <a href="attention_mechanism.html#history" style="text-decoration: none; color: inherit;">9.1.1 历史发展</a>
                    </h4>
                    <h4 id="section9-sub1-sub2">9.1.2 注意力提示</h4>
                    <h4 id="section9-sub1-sub3">9.1.3 注意力汇聚</h4>
                    <h4 id="section9-sub1-sub4">9.1.4 注意力评分函数</h4>
                    <h4 id="section9-sub1-sub5">9.1.5 Bahdanau 注意力</h4>

                    <h3 id="section9-sub2">9.2 机器翻译</h3>
                    <p>这是章节 9 的子标题 2 内容。</p>
                    <h3 id="section9-sub3">9.3 Transformer 论文</h3>
                    <h3 id="section9-sub4">9.4 Transformer 分解</h3>
                    <h3 id="section9-sub5">9.5 Transformer 实现</h3>
                    <h3 id="section9-sub6">9.6 Transformer 注释</h3>
                    <h3 id="section9-sub7">9.7 Keras 示例</h3>
                </section>

                <section id="section10" class="content-section">
                    <h2>章节 10</h2>
                    <p>这是章节 4 的内容。欢迎补充更多章节。</p>
                </section>

                <section id="section11" class="content-section">
                    <h2>章节 11</h2>
                    <p>这是章节 4 的内容。欢迎补充更多章节。</p>
                </section>

                <section id="section12" class="content-section">
                    <h2>章节 12</h2>
                    <p>这是章节 4 的内容。欢迎补充更多章节。</p>
                </section>
            </main>

            <!-- 右侧小标题导航 -->
            <aside class="col-md-2 right-sidebar">
                <h5>标题</h5>
                <ul id="dynamic-sidebar" class="nav flex-column">
                    <!-- 动态内容 -->
                </ul>
            </aside>
        </div>
    </div>

    <!-- 引入 Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function toggleChildChapters(event, chapterId) {
            event.preventDefault();
            const chapter = document.getElementById(chapterId);
            if (chapter.style.display === "none" || !chapter.style.display) {
                chapter.style.display = "block";
            } else {
                chapter.style.display = "none";
            }
        }
    </script>
    <script>
        // 更新右侧导航，显示当前h3的小节
        function updateRightSidebar(currentH3Id) {
            const sidebar = document.getElementById("dynamic-sidebar");
            sidebar.innerHTML = ""; // 清空当前内容

            // 查找当前h3下的所有h4元素
            const h3Element = document.getElementById(currentH3Id);
            let nextSibling = h3Element.nextElementSibling;
            const h4Elements = [];

            // 获取所有h4标签，直到遇到下一个h3标签
            while (nextSibling && nextSibling.tagName !== "H3") {
                if (nextSibling.tagName === "H4") {
                    h4Elements.push(nextSibling);
                }
                nextSibling = nextSibling.nextElementSibling;
            }

            // 为每个h4元素创建导航项
            h4Elements.forEach(h4 => {
                const li = document.createElement("li");
                li.className = "nav-item";
                li.innerHTML = `<a class="nav-link" href="#${h4.id}" data-id="${h4.id}">${h4.innerText}</a>`;
                sidebar.appendChild(li);
            });

            // 默认高亮第一个小节
            if (h4Elements.length > 0) {
                highlightActiveSubtitle(h4Elements[0].id);
            }
        }

        // 高亮当前h4小节
        function highlightActiveSubtitle(subtitleId) {
            const links = document.querySelectorAll("#dynamic-sidebar a");
            links.forEach(link => {
                if (link.getAttribute("data-id") === subtitleId) {
                    link.classList.add("active");
                } else {
                    link.classList.remove("active");
                }
            });
        }

        // 监听h3小节滚动，显示对应的h4小节
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const currentH3Id = entry.target.id;
                    updateRightSidebar(currentH3Id);
                }
            });
        }, {
            threshold: 0.5 // 当h3元素有一半进入视口时触发
        });

        // 观察所有h3元素
        const h3Elements = document.querySelectorAll("h3");
        h3Elements.forEach(h3 => {
            observer.observe(h3);
        });
    </script>
</body>
</html>